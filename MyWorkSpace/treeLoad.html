<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Tree4</title>
    <link rel="stylesheet" type="text/css" href=".././resources/css/ext-all.css" />
    <script type="text/javascript" src=".././adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src=".././ext-all.js"></script>
    <script>
        Ext.onReady(function() {
            // var root = new Ext.tree.AsyncTreeNode({text: 'Fruites',checked: true});

            // var menu =new Ext.menu.Menu({
            //     items:[{
            //         id: 'delete',
            //         text: 'Delete It'
            //     }],
            //     listeners: {
            //         itemclick: function(item){
            //             switch (item.id){
            //                 case 'delete':
            //                     var childenNode =item.child().contextNode;
            //                     if(!childenNode){
            //                         childenNode.remove();
            //                     }
            //             }
            //         }
            //     }
            // });

            var root = new Ext.tree.AsyncTreeNode({text: 'Fruites',checked: true});
            var tree = new Ext.tree.TreePanel({
                renderTo: 'test',
                width: 200,
                height: 300,
                useArrows:true,
                autoScroll:true,
                animate:true,
                enableDD:true,
                containerScroll: true,
                rootVisible: true,
                frame: true,
                // lines:'true',
                // loader: new Ext.tree.TreeLoader({dataUrl: 'tree.txt'}),
                root: root,
                // contextMenu: menu,
                // listeners: {
                //     // click: function(node){
                //     //     Ext.Msg.alert('tips',node.text);
                //     // },
                //     checkchange: function(node,checked){
                //         Ext.Msg.alert('tips','you'+' '+(checked?'checked':'unchecked')+' '+node.text);
                //     },
                //     contextmenu: function(node, e) {
                //         node.select();
                //         var treeContextMenu = node.getOwnerTree().contextMenu;
                //         treeContextMenu.contextNode = node;
                //         treeContextMenu.showAt(e.getXY());
                //     }
                // }
            });

            tree.on('nodedrop',function(e){
               Ext.Msg.alert('tips','current node:'+ e.dropNode.text+' '+ 'to target node'+' '+ e.target.text)
            });
            var treeEditor =new Ext.tree.TreeEditor(tree, {allowBlank: false},{
                listeners: {
                    complete: function(editor,curr,orig){
                        Ext.Msg.alert('tips','node content changed from'+curr+'to'+orig);
                    }
                }
            });
            root.expand();


        });
    </script>
</head>
<body>
<div id="test"></div>
</body>
</html>